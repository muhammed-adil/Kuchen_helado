<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KUCHEN HELADO | Cake Shop</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root{ --accent:#3b2f2f; --muted:#a87f55; --card:#fff; --bg:#f8f5f0; --soft:#f0e6da }
    body { font-family: 'Poppins', sans-serif; background-color: var(--bg); color: var(--accent); -webkit-font-smoothing:antialiased; }
    header { background-color: #d4b48c; padding: 1.2rem 3rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; transition: box-shadow 200ms ease; }
    header h1 { font-size: 1.8rem; letter-spacing: 1px; position: relative; }
    header h1::before { content: ''; position: absolute; inset: 0; background: var(--accent); transform-origin: left; animation: revealText 1.2s cubic-bezier(.7,0,.3,1) forwards; }
    nav a { text-decoration: none; color: var(--accent); margin: 0 1rem; font-weight: 600; position:relative; transition: transform 180ms ease, color 180ms ease; }
    nav a:hover { color: white; transform: translateY(-3px); }

    .hero { background-color: var(--soft); text-align: center; padding: 4rem 2rem; opacity:0; transform:translateY(12px); animation: heroIn 700ms ease forwards 150ms; }
    .hero h2 { font-size: 2.5rem; margin-bottom: 1rem; transform:translateY(6px); opacity:0; animation: heroTitle 650ms ease forwards 250ms; }
    .hero p { font-size: 1.2rem; margin-bottom: 2rem; opacity:0; transform:translateY(6px); animation: heroSub 650ms ease forwards 320ms; }
    .btn { background-color: var(--accent); color: white; padding: 0.8rem 1.5rem; text-decoration: none; border-radius: 25px; transition: transform 160ms ease, box-shadow 160ms ease, background-color 160ms ease; }
    .btn:hover { transform: translateY(-4px); box-shadow: 0 12px 30px rgba(59,47,47,0.12); background-color: var(--muted); }
    .btn:active{ transform: translateY(-1px) scale(.995) }

    .section { padding: 4rem 2rem; text-align: center; }
    .section h2 { margin-bottom: 2rem; font-size: 2rem; }
    /* products container wrapper for navigation */
    .products-wrapper { position: relative; max-width: 100%; overflow: hidden; padding: 0.5rem; }
    /* horizontal scroll products */
    .products { display: flex; gap: 2rem; overflow-x: auto; padding: 1rem 0.5rem; margin: 0 -0.5rem; scroll-snap-type: x mandatory; position: relative; scroll-behavior: smooth; }
    .products::-webkit-scrollbar { height: 8px; }
    .products::-webkit-scrollbar-track { background: #f0e6da; border-radius: 4px; }
    .products::-webkit-scrollbar-thumb { background: #d4b48c; border-radius: 4px; }
    /* Navigation arrows */
    .nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: var(--card); border: none; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; color: var(--accent); cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.1); z-index: 2; transition: transform 180ms ease, box-shadow 180ms ease; display: flex; align-items: center; justify-content: center; }
    .nav-arrow:hover { transform: translateY(-50%) scale(1.1); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
    .nav-prev { left: 10px; }
    .nav-next { right: 10px; }
    .more-card { display: block; }
    .card { background: var(--card); padding: 1rem; border-radius: 12px; box-shadow: 0 6px 14px rgba(20,20,20,0.04); transition: transform 260ms cubic-bezier(.2,.9,.3,1), box-shadow 260ms ease, opacity 360ms ease; transform-origin: center; opacity:0; flex: 0 0 280px; scroll-snap-align: center; }
    .card.visible{ opacity:1; transform:none }
    .card img { width: 100%; height: 280px; object-fit: cover; border-radius: 12px; transition: transform 450ms ease; }
    .card:hover{ transform: translateY(-8px) scale(1.01); box-shadow: 0 18px 40px rgba(20,20,20,0.09); }
    .card:hover img{ transform: scale(1.03) }
    .card h3 { margin: 1rem 0 0.5rem; }
    .card button { background-color: #d4b48c; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; transition: transform 160ms ease; }
    .card button:hover { background-color: #b89068; color: white; transform: translateY(-3px); }
    .wishlist-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; padding: 0.5rem; margin-right: 0.5rem; transition: transform 200ms ease; }
    .wishlist-btn:hover { transform: scale(1.15); }
    .wishlist-btn.active { color: #ff4b4b; }
    .card-actions { display: flex; align-items: center; justify-content: center; margin-top: 0.5rem; }

  /* image frame */
  .img-wrap{position:relative;overflow:hidden;border-radius:12px}
  .img-wrap img{display:block;width:100%;height:auto;transition:transform 420ms ease}
  .img-wrap:hover img{transform:scale(1.06)}

    .about, .contact { max-width: 800px; margin: auto; text-align: left; line-height: 1.6; }
    .contact form { display: flex; flex-direction: column; }
    .contact input, .contact textarea { margin: 0.5rem 0; padding: 0.8rem; border: 1px solid #ccc; border-radius: 5px; }
    .contact button { background-color: var(--accent); color: white; padding: 0.7rem; border: none; border-radius: 5px; cursor: pointer; transition: transform 140ms ease; }
    .contact button:hover { background-color: var(--muted); transform: translateY(-3px); }

    footer { background-color: #3b2f2f; color: white; text-align: center; padding: 1rem; margin-top: 3rem; }
    .trademark { font-weight: 600; margin-left: 0.5rem; opacity: 0.95; }
    /* Animations */
    @keyframes heroIn { to{opacity:1; transform:none} }
    @keyframes heroTitle { to{opacity:1; transform:none} }
    @keyframes heroSub { to{opacity:1; transform:none} }
    @keyframes shopNameIn { 
      from { opacity: 0; transform: translateY(-20px) scale(0.95); } 
      to { opacity: 1; transform: none; }
    }
    @keyframes revealText { 
      0% { transform: scaleX(1); } 
      100% { transform: scaleX(0); }
    }
    @media (max-width: 768px) {
      header { flex-direction: column; text-align: center; }
      nav { margin-top: 1rem; }
    }
  </style>
</head>
<body>
  <header>
    <h1 style="opacity: 0; animation: shopNameIn 0.8s cubic-bezier(.4,0,.2,1) forwards 0.6s;">KUCHEN HELADO</h1>
    <nav>
      <a href="#home">Home</a>
      <a href="#products">Products</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
      <a href="login.html">Login</a>
      <a href="cart.html">Cart <span id="cartCount" style="background:#fff;color:#3b2f2f;border-radius:12px;padding:0.1rem 0.5rem;margin-left:6px;font-weight:700">0</span></a>
    </nav>
  </header>

  <section id="home" class="hero">
    <h2>Delicious Cakes, Every Slice a Memory</h2>
    <p>Welcome to KUCHEN HELADO — where sweetness meets perfection.</p>
    <a href="#products" class="btn">Shop Now</a>
  </section>

  <section id="products" class="section">
    <h2>Our Cakes</h2>
    <div class="products-wrapper">
      <button class="nav-arrow nav-prev" onclick="scrollProducts('left')" aria-label="Previous products">‹</button>
      <div class="products">
      <div class="card" data-price="450">
        <div class="img-wrap">
          <img src="sb.png" alt="Chocolate Cake">
        </div>
        <h3>Chocolate Dream</h3>
        <p>₹450</p>
        <div class="card-actions">
          <button class="wishlist-btn" aria-label="Add to wishlist">♥</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
      <div class="card">
        <div class="img-wrap">
          <img src="cd.webp" alt="Strawberry Cake">
        </div>
        <h3>Strawberry Bliss</h3>
        <p>₹420</p>
        <div class="card-actions">
          <button class="wishlist-btn" aria-label="Add to wishlist">♥</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
      <div class="card">
        <div class="img-wrap">
          <img src="vh.jpg" alt="Vanilla Cake">
        </div>
        <h3>Vanilla Heaven</h3>
        <p>₹400</p>
        <div class="card-actions">
          <button class="wishlist-btn" aria-label="Add to wishlist">♥</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
      <!-- Hidden extra products revealed by Explore More -->
      <div class="card more-card" data-price="480">
        <div class="img-wrap">
          <img src="rv.jpeg" alt="Red Velvet Cake">
        </div>
        <h3>Red Velvet Delight</h3>
        <p>₹480</p>
        <div class="card-actions">
          <button class="wishlist-btn" aria-label="Add to wishlist">♥</button>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
      <div class="card more-card">
        <div class="img-wrap">
          <img src="rh.jpeg" alt="Lemon Cake">
          <div class="img-overlay">View</div>
        </div>
        <h3>Russian Honey</h3>
        <p>₹430</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
      <div class="card more-card">
        <div class="img-wrap">
          <img src="cc.jpg" alt="Coffee Cake">
          <div class="img-overlay">View</div>
        </div>
        <h3>Coffee Caramel</h3>
        <p>₹460</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
      <div class="card more-card">
        <div class="img-wrap">
          <img src="pc.jpeg" alt="Pistachio Cake">
          <div class="img-overlay">View</div>
        </div>
        <h3>Pistachio Crunch</h3>
        <p>₹520</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
      <div class="card more-card">
        <div class="img-wrap">
          <img src="bd.jpeg" alt="Blueberry Cake">
          <div class="img-overlay">View</div>
        </div>
        <h3>Blueberry Dream</h3>
        <p>₹470</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
      <div class="card more-card">
        <div class="img-wrap">
          <img src="mm.jpeg" alt="Mango Cake">
          <div class="img-overlay">View</div>
        </div>
        <h3>Mango Mousse</h3>
        <p>₹440</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
    </div>

    <div style="text-align:center; margin-top:1.5rem;">
      <button class="nav-arrow nav-next" onclick="scrollProducts('right')" aria-label="Next products">›</button>
      </div>
    </div>
  </section>

  <section id="about" class="section about">
    <h2>About Us</h2>
    <p>KUCHEN HELADO is a premium cake shop known for its handcrafted delights, made from the freshest ingredients. Our passion for baking and attention to detail ensures that every cake we create brings happiness to your celebrations.</p>
  </section>

  <section id="contact" class="section contact">
    <h2>Contact Us</h2>
    <form>
      <input type="text" placeholder="Your Name" required>
      <input type="email" placeholder="Your Email" required>
      <textarea placeholder="Your Message" rows="5"></textarea>
      <button type="submit">Send Message</button>
    </form>
  </section>

  <footer>
    <p>&copy; 2025 KUCHEN HELADO | All Rights Reserved<span class="trademark">Batch12™</span></p>
  </footer>

  <script>
    (function(){
      /* Card reveal on scroll (ensure visible class applied) */
      const cards = document.querySelectorAll('.card');
      try {
        const io = new IntersectionObserver((entries)=>{
          entries.forEach(en => {
            if (en.isIntersecting) { en.target.classList.add('visible'); io.unobserve(en.target); }
          });
        }, { threshold: 0.12 });
        cards.forEach(c=> io.observe(c));
      } catch(e){ cards.forEach(c=> c.classList.add('visible')); }

      /* Explore more toggle */
      const btn = document.getElementById('exploreMore');
      if (btn) {
        let expanded = false;
        btn.addEventListener('click', function(){
          const more = document.querySelectorAll('.more-card');
          if (!expanded) {
            more.forEach(el => { el.style.display = 'block'; /* animate reveal */ el.classList.remove('visible'); setTimeout(()=>el.classList.add('visible'),40); });
            btn.textContent = 'Show Less';
            if (more.length) more[0].scrollIntoView({ behavior: 'smooth', block: 'start' });
          } else {
            more.forEach(el => el.style.display = 'none');
            btn.textContent = 'Explore More';
            const productsHeader = document.querySelector('#products h2');
            if (productsHeader) productsHeader.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
          expanded = !expanded;
        });
      }

      /* Simple cart implementation (client-side demo using localStorage)
         - Cart stored under 'kuchenCart' as array of items {id,name,price,qty}
         - Buttons have class 'add-to-cart'
      */
      const CART_KEY = 'kuchenCart';
      // storage fallback: prefer localStorage, then sessionStorage, else in-memory
      const STORAGE = (function(){ try{ localStorage.setItem('__ktest','1'); localStorage.removeItem('__ktest'); return localStorage; }catch(e){ try{ sessionStorage.setItem('__ktest','1'); sessionStorage.removeItem('__ktest'); return sessionStorage; }catch(e){ return null; } } })();
      if (!STORAGE) window._kuchenCart = window._kuchenCart || [];
      function readCart(){
        try {
          if (STORAGE) return JSON.parse(STORAGE.getItem(CART_KEY) || '[]');
          return window._kuchenCart || [];
        } catch(e){ return [];
        }
      }
      function writeCart(cart){
        try{
          if (STORAGE) STORAGE.setItem(CART_KEY, JSON.stringify(cart));
          else window._kuchenCart = cart;
        }catch(e){ window._kuchenCart = cart; }
        updateCartCount();
      }
      function updateCartCount(){
        const countEl = document.getElementById('cartCount');
        if (!countEl) return;
        const cart = readCart();
        const totalQty = cart.reduce((s,i)=>s + (i.qty||0),0);
        countEl.textContent = totalQty;
      }
      function addToCart(name, price){
        const id = name.toLowerCase().replace(/[^a-z0-9]+/g,'-');
        const cart = readCart();
        const existing = cart.find(i=>i.id===id);
        if (existing) existing.qty += 1;
        else cart.push({ id, name, price: Number(price), qty: 1 });
        writeCart(cart);
      }

      // Attach handlers to add-to-cart buttons
      document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.addEventListener('click', function(e){
          const card = e.target.closest('.card');
          if (!card) return;
          const name = card.querySelector('h3') ? card.querySelector('h3').textContent.trim() : 'Item';
          const priceText = card.querySelector('p') ? card.querySelector('p').textContent.trim() : '₹0';
          const price = Number(priceText.replace(/[^0-9.]/g,'')) || 0;
          addToCart(name, price);
          // brief visual feedback
          const original = btn.textContent;
          btn.textContent = 'Added ✓';
          btn.disabled = true;
          setTimeout(()=>{ btn.textContent = original; btn.disabled = false; }, 900);
        });
      });

      // Products scrolling
      function scrollProducts(direction) {
        const container = document.querySelector('.products');
        if (!container) return;
        
        const scrollAmount = 300; // px to scroll each time
        const currentScroll = container.scrollLeft;
        const targetScroll = direction === 'left' 
          ? currentScroll - scrollAmount 
          : currentScroll + scrollAmount;
        
        container.scrollTo({
          left: targetScroll,
          behavior: 'smooth'
        });

        // Update scroll indicators
        setTimeout(() => {
          const isScrolled = container.scrollLeft > 0;
          container.classList.toggle('scrolled', isScrolled);
        }, 100);
      }

      // Watch products scroll position
      const productsContainer = document.querySelector('.products');
      if (productsContainer) {
        productsContainer.addEventListener('scroll', () => {
          const isScrolled = productsContainer.scrollLeft > 0;
          productsContainer.classList.toggle('scrolled', isScrolled);
        });
      }

      // Initialize count on load
      updateCartCount();

      /* Wishlist functionality */
      const WISHLIST_KEY = 'kuchenWishlist';
      function readWishlist() {
        try {
          if (STORAGE) return JSON.parse(STORAGE.getItem(WISHLIST_KEY) || '[]');
          return window._kuchenWishlist || [];
        } catch(e) { return []; }
      }
      function writeWishlist(list) {
        try {
          if (STORAGE) STORAGE.setItem(WISHLIST_KEY, JSON.stringify(list));
          else window._kuchenWishlist = list;
        } catch(e) { window._kuchenWishlist = list; }
      }
      function toggleWishlist(name) {
        const wishlist = readWishlist();
        const index = wishlist.indexOf(name);
        if (index === -1) wishlist.push(name);
        else wishlist.splice(index, 1);
        writeWishlist(wishlist);
      }
      // Attach handlers to wishlist buttons
      document.querySelectorAll('.wishlist-btn').forEach(btn => {
        const card = btn.closest('.card');
        if (!card) return;
        const name = card.querySelector('h3').textContent.trim();
        // Check if item is in wishlist and update button state
        const wishlist = readWishlist();
        if (wishlist.includes(name)) btn.classList.add('active');
        
        btn.addEventListener('click', function() {
          toggleWishlist(name);
          btn.classList.toggle('active');
        });
      });

      /* Lightbox / image popup behavior */
      const lightbox = document.getElementById('lightbox');
      const lbImg = document.getElementById('lightboxImg');
      const lbCaption = document.getElementById('lightboxCaption');
      const lbClose = lightbox && lightbox.querySelector('.close');

      function openLightbox(imgEl){
        if (!lightbox || !imgEl) return;
        lbImg.src = imgEl.src;
        lbImg.alt = imgEl.alt || '';
        lbCaption.textContent = imgEl.alt || '';
        lightbox.classList.add('open');
        lightbox.setAttribute('aria-hidden','false');
        document.body.style.overflow = 'hidden';
      }
      function closeLightbox(){
        if (!lightbox) return;
        lightbox.classList.remove('open');
        lightbox.setAttribute('aria-hidden','true');
        // small delay before clearing src to avoid flicker
        setTimeout(()=>{ lbImg.src = ''; lbCaption.textContent = ''; }, 300);
        document.body.style.overflow = '';
      }

      // Delegate clicks on image wrappers
      document.querySelectorAll('.img-wrap').forEach(wrap => {
        wrap.addEventListener('click', function(e){
          const img = this.querySelector('img');
          if (img) openLightbox(img);
        });
      });

      // Hover-to-open behavior for pointer devices (only where hover is supported)
      const canHover = window.matchMedia && window.matchMedia('(hover: hover) and (pointer: fine)').matches;
      let _lbCloseTimer = null;
      if (canHover) {
        document.querySelectorAll('.img-wrap').forEach(wrap => {
          let enterTimer = null;
          wrap.addEventListener('mouseenter', function(){
            const img = this.querySelector('img');
            if (!img) return;
            // small delay to avoid accidental opens
            enterTimer = setTimeout(()=>{
              openLightbox(img);
            }, 420);
            this._enterTimer = enterTimer;
          });
          wrap.addEventListener('mouseleave', function(){
            if (this._enterTimer) { clearTimeout(this._enterTimer); this._enterTimer = null; }
            // close quickly when pointer leaves the image (short delay to allow moving into lightbox)
            if (lightbox && lightbox.classList.contains('open')){
              if (_lbCloseTimer) clearTimeout(_lbCloseTimer);
              _lbCloseTimer = setTimeout(()=>{ closeLightbox(); _lbCloseTimer = null; }, 0);
            }
          });
        });

        // If user moves pointer into lightbox, cancel close timer; when leaving, close
        if (lightbox) {
          lightbox.addEventListener('mouseenter', function(){ if (_lbCloseTimer) { clearTimeout(_lbCloseTimer); _lbCloseTimer = null; } });
          lightbox.addEventListener('mouseleave', function(){ if (_lbCloseTimer) clearTimeout(_lbCloseTimer); _lbCloseTimer = setTimeout(()=>{ closeLightbox(); _lbCloseTimer = null; }, 0); });
        }
      }

      if (lbClose) lbClose.addEventListener('click', closeLightbox);
      // close on overlay click (outside frame)
      if (lightbox) lightbox.addEventListener('click', function(e){ if (e.target === lightbox) closeLightbox(); });
      // ESC key closes
      document.addEventListener('keydown', function(e){ if (e.key === 'Escape') closeLightbox(); });

    })();
  </script>
</body>
</html>
